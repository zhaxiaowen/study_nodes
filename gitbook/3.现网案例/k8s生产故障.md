# k8s生产故障

[k8s网络诊断之我的流量去哪了](https://developer.aliyun.com/article/780661)





#### 应用上了K8S，wss内存持续上升，比rss内存高出几倍

```
rss约等于linux的rss,可以任务程序常驻内存使用
wss约等于rss+cache,里面还有核心内存以及脏内存
rss没有增高或者说rss会自己内存回收,wss却一直增高并且与rss分离度搞的原因是cache导致的

在容器里可以free查看cache变化,如果没有运维协助看到的是宿主机的cache,我用压测脚本短时间内推高wss的.发现确实cache增高了,然后结合常见的缓存增长原因,定位到我的原因是日志等级太低了,请求时大量io导致了缓存急速飙升.调整日志等级后重新发布果然解决了问题
```

